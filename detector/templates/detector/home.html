{% extends 'detector/base.html' %}
{% block title %}Profession Detector{% endblock %}

{% block inlineCSS %}
<style type="text/css">
	.progress {
		height: 1.5rem;
		opacity: 70%;
	}
</style>
{% endblock %}

{% block content %}



<div class="container">
	<div id="task-container">
		{% if request.user.is_active %}
		<span style="margin-left: 20px">Welcome {{request.user}}</span>
		<span><a href="{% url 'logout' %}" style="margin-right: 20px; float: right;">Logout</a></span>
		{% endif %}
		<!-- <h2 class="text-center"> Please upload an image to detect profession </h2> -->
		<div id="form-wrapper">
			<div class="flex-wrapper">
				<form action="" method="post" enctype="multipart/form-data" class="row gy-2 gx-3 align-items-center">
					<div class="col-auto">
						{% csrf_token %}
   						{{ form.as_p }}
					</div>
					<div class="col-auto">
						<input id="submit" class="btn" type="submit" value="Upload">
					</div>
					<div class="col-auto">
						<a href="{% url 'home' %}"><input id="reset" class="btn" type="button" value="Reset"></a>
					</div>
				</form>
			</div>
		</div>

		<!-- <div class="text-center mt-3">
			<img src="/media/images/poli_Xwwo1zi.jpg" alt="connect" style="max-height:300px">
			
			Firefighter
			<div class="progress m-2">
			  <div class="progress-bar" role="progressbar" style="width: 6%; font-size: 17px; color: #000000; font-style: bold;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">6%</div>
			</div>

			<br>
 		</div> -->

		<!-- Display results -->
		{% if img_obj %}
		<div class="text-center mt-3">
			<img src="{{ img_obj.image.url}}" alt="connect" style="max-height:300px; max-width: 700PX;">
			<br>
			
			{% for result in results %}
			{% if result.accu > 2.00 %}
			<b>{{result.prof}}</b>
			<div class="progress m-2">
			  <div class="progress-bar" role="progressbar" style="width: {{result.accu}}%; font-size: 17px; color: #000000; font-style: bold;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{result.accu}}%</div>
			</div>
			{%endif%}
			{% endfor %}

			<br>

		</div>
		{% endif %}

	</div>


	<!-- Add form-control to upload filed -->
	<!-- <script>

		//Query All input fields
		var form_fields = document.getElementsByTagName('input')

		for (var field in form_fields){
			form_fields[field].className += ' form-control'
		}
	</script> -->


</div>


{% endblock %}